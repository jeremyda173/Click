<!DOCTYPE html>
< lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafíos de CPS</title>
</head>
<>

    <div class="container">
        <h2 class="title">Desafíos de CPS</h2>
    
        <div class="buttons">
            <button type="button" class="button" onclick="startChallenge(1)">1 SEGUNDO</button>
            <button type="button" class="button" onclick="startChallenge(2)">2 SEGUNDOS</button>
            <button type="button" class="button" onclick="startChallenge(5)">5 SEGUNDOS</button>
            <button type="button" class="button" onclick="startChallenge(10)">10 SEGUNDOS</button>
            <button type="button" class="button" onclick="startChallenge(30)">30 SEGUNDOS</button>
            <button type="button" class="button" onclick="startChallenge(60)">60 SEGUNDOS</button>
        </div>
    
        <div id="result-container">
            <!-- Contenedor para la zona de clics y contadores -->
            <div id="counters-container">
                <p>CPS: <span id="cps">0.00</span></p>
                <p>Temporizador: <span id="time">0</span></p>
            </div>
    
            <button id="click-area-container" onclick="incrementClicks()">
                <!-- Botón para el área de clics -->
                <p>¡Haz clic aquí!</p>
                <p>Clics: <span id="click-count">0</span></p>
            </button>
        </div>
    </div>

    <script>
        let timer;
        let clickCount = 0;
        let initialSeconds = 0;

        function startChallenge(sec) {
            stopTimer();

            clickCount = 0;
            document.getElementById('click-count').textContent = clickCount;
            document.getElementById('cps').textContent = "0.00";

            initialSeconds = sec;
            document.getElementById('time').textContent = initialSeconds;
        }

        function stopTimer() {
            clearInterval(timer);
            timer = null;
        }

        function incrementClicks() {
            if (initialSeconds > 0) {
                clickCount++;
                document.getElementById('click-count').textContent = clickCount;

                if (!timer) {
                    timer = setInterval(function () {
                        initialSeconds--;
                        document.getElementById('time').textContent = initialSeconds;

                        if (initialSeconds === 0) {
                            stopTimer();
                            const cps = clickCount / (initialSeconds + 1);
                            document.getElementById('cps').textContent = cps.toFixed(2);
                        }
                    }, 1000);
                }
            } else {
                alert("Elige una opción de duración antes de comenzar el desafío.");
            }
        }
    </script>
    
</body>
</html>

